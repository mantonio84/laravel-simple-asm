!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.objectPath=t()}(this,function(){"use strict";var e=Object.prototype.toString;function t(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function r(e){if(!e)return!0;if(i(e)&&0===e.length)return!0;if("string"!=typeof e){for(var r in e)if(t(e,r))return!1;return!0}return!1}function n(t){return e.call(t)}var i=Array.isArray||function(t){return"[object Array]"===e.call(t)};function u(e){var t=parseInt(e);return t.toString()===e?t:e}function o(e){e=e||{};var o=function(e){return Object.keys(o).reduce(function(t,r){return"create"===r?t:("function"==typeof o[r]&&(t[r]=o[r].bind(o,e)),t)},{})};function f(r,n){return e.includeInheritedProps||"number"==typeof n&&Array.isArray(r)||t(r,n)}function c(e,t){if(f(e,t))return e[t]}function l(e,t,r,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return l(e,t.split(".").map(u),r,n);var i=t[0],o=c(e,i);return 1===t.length?(void 0!==o&&n||(e[i]=r),o):(void 0===o&&("number"==typeof t[1]?e[i]=[]:e[i]={}),l(e[i],t.slice(1),r,n))}return o.has=function(r,n){if("number"==typeof n?n=[n]:"string"==typeof n&&(n=n.split(".")),!n||0===n.length)return!!r;for(var o=0;o<n.length;o++){var f=u(n[o]);if(!("number"==typeof f&&i(r)&&f<r.length||(e.includeInheritedProps?f in Object(r):t(r,f))))return!1;r=r[f]}return!0},o.ensureExists=function(e,t,r){return l(e,t,r,!0)},o.set=function(e,t,r,n){return l(e,t,r,n)},o.insert=function(e,t,r,n){var u=o.get(e,t);n=~~n,i(u)||(u=[],o.set(e,t,u)),u.splice(n,0,r)},o.empty=function(e,t){var u,c;if(!r(t)&&(null!=e&&(u=o.get(e,t)))){if("string"==typeof u)return o.set(e,t,"");if("boolean"==typeof(s=u)||"[object Boolean]"===n(s))return o.set(e,t,!1);if("number"==typeof u)return o.set(e,t,0);if(i(u))u.length=0;else{if("object"!=typeof(l=u)||"[object Object]"!==n(l))return o.set(e,t,null);for(c in u)f(u,c)&&delete u[c]}var l,s}},o.push=function(e,t){var r=o.get(e,t);i(r)||(r=[],o.set(e,t,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},o.coalesce=function(e,t,r){for(var n,i=0,u=t.length;i<u;i++)if(void 0!==(n=o.get(e,t[i])))return n;return r},o.get=function(e,t,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return o.get(e,t.split("."),r);var n=u(t[0]),i=c(e,n);return void 0===i?r:1===t.length?i:o.get(e[n],t.slice(1),r)},o.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(r(t))return e;if("string"==typeof t)return o.del(e,t.split("."));var n=u(t[0]);return f(e,n)?1!==t.length?o.del(e[n],t.slice(1)):(i(e)?e.splice(n,1):delete e[n],e):e},o}var f=o();return f.create=o,f.withInheritedProps=o({includeInheritedProps:!0}),f});